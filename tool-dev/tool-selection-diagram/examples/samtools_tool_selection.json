{
  "title": "Samtools Tool Selection Guide",
  "start_question": "What do you need to do with BAM/SAM data?",
  "goals": [
    {
      "label": "View / inspect",
      "criteria": [
        {
          "label": "Quick summary",
          "tools": [
            {"name": "samtools flagstat", "description": "Alignment flag statistics"},
            {"name": "samtools idxstats", "description": "Per-reference counts"}
          ]
        },
        {
          "label": "Detailed stats",
          "tools": [
            {"name": "samtools stats", "description": "Comprehensive metrics"}
          ]
        }
      ]
    },
    {
      "label": "Filter / subset",
      "criteria": [
        {
          "label": "By region or flag",
          "tools": [
            {"name": "samtools view", "description": "Filter and convert"}
          ]
        },
        {
          "label": "Remove duplicates",
          "tools": [
            {"name": "samtools markdup", "description": "Mark/remove PCR dupes"}
          ]
        }
      ]
    },
    {
      "label": "Sort / index",
      "tools": [
        {"name": "samtools sort", "description": "Sort by coord or name"},
        {"name": "samtools index", "description": "Create BAI/CSI index"}
      ]
    },
    {
      "label": "Merge / split",
      "tools": [
        {"name": "samtools merge", "description": "Combine BAM files"},
        {"name": "samtools split", "description": "Split by read group"}
      ]
    },
    {
      "label": "Variant pileup",
      "criteria": [
        {
          "label": "Simple pileup",
          "tools": [
            {"name": "samtools mpileup", "description": "Per-base depth/alleles"}
          ]
        },
        {
          "label": "Consensus call",
          "tools": [
            {"name": "samtools consensus", "description": "Generate consensus seq"}
          ]
        }
      ]
    }
  ]
}
